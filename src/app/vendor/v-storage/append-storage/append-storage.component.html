<div class="row mt-5">
  <div class="col-12">
  </div>
</div>
<h4 class="header-title"> ثبت مخزن </h4>

<div class="row mt-5 mb-5">

  <div class="col-12">
    <form [formGroup]="form" (ngSubmit)="submit()">
      <div [hidden]="step != 1" class="row flex-row-reverse">
        <div class="col-md-12">
          <label class="rtl text-muted float-right p-2" for="storage_name">نام مخزن  ذخیر سازی</label>
          <input type="text" formControlName="storage_name" id="storage_name" class="form-control rtl" >
        </div>

        <div class="col-md-6">
          <label for="category_id" class="text-muted rtl float-right p-2"> دسته بندی</label>
          <select id="category_id" formControlName="category_id" class="form-control rtl" >
            <option [ngValue]="null"></option>
            <option *ngFor="let item of categories" [ngValue]="item">{{item.category_name}}</option>
          </select>
        </div>

        <div class="col-md-6">
          <label for="fruit_category_id" class="text-muted rtl float-right p-2">دسته بندی میوه</label>
          <select id="fruit_category_id" formControlName="fruit_category_id" class="form-control rtl" >
            <option [ngValue]="null"></option>

            <option *ngFor="let item of fruit_categories" [ngValue]="item">{{item.fruit_category_name}}</option>
          </select>
        </div>


        <div class="col-md-6">
          <label for="fruit_id" class="text-muted rtl float-right p-2">میوه</label>
          <select id="fruit_id" formControlName="fruit_id" class="form-control rtl" >
            <option [ngValue]="null"></option>
            <option *ngFor="let item of fruits" [ngValue]="item">{{item.fruit_name}}</option>
          </select>
        </div>


        <div class="col-md-6">
          <label for="value_type_id" class="text-muted rtl float-right p-2">واحد اندازه گیری</label>
          <select id="value_type_id" formControlName="value_type_id" class="form-control rtl" >
            <option [ngValue]="null"></option>
            <option *ngFor="let item of value_types" [ngValue]="item">{{item.type_name}}</option>
          </select>
        </div>


        <div class="col-md-6">
          <label class="rtl text-muted float-right p-2"  for="value">مقدار</label>
          <input type="number" min="0" formControlName="value" id="value"  class="form-control rtl" >
          <p class="text-right rtl right p-3 text-dark" *ngIf="form.controls['value'].value != null"> مقدار :  {{form.controls['value'].value}} <span *ngIf="form.controls['value_type_id'].value">- {{form.controls['value_type_id'].value?.type_name}}</span></p>
        </div>


        <div class="col-md-6">
          <label class="rtl text-muted float-right p-2"  for="price">قیمت</label>
          <input type="text" formControlName="price" id="price" currencyMask [options]="{suffix: '  تومن  ',prefix: '', thousands: ',' , decimal: '' , precision: 0 }"  class="form-control rtl" >
        </div>


        <div class="col-md-12 mt-3 mb-3 ">
          <input type="button" class="btn btn-primary btn-block" [disabled]="form.invalid" (click)="step = 2" value="تایید">
        </div>


      </div>

      <div class="row justify-content-center" [hidden]="step != 2">
        <div class="col-11 border shadow bg-light border-info p-2" style="border-radius: 13px;">
          <div class="row">
            <div class="col-12">
              <div class="row flex-row-reverse">
                <div class="col-6 border-left border-info">
                  <p class="text-center text-dark p-2 border-bottom border-info rtl">
                    {{form.value['category_id']?.category_name}}
                  </p>
                  <p class="text-center text-muted rtl">
                    {{form.value['fruit_id']?.fruit_name}}
                  </p>
                </div>
                <div class="col-6">
                  <p class="text-center text-dark p-2 border-bottom border-info rtl">
                    نام مخزن
                  </p>
                  <p class="text-center text-muted rtl">
                    {{form.value['storage_name']}}
                  </p>
                </div>
                <div class="col-12">
                  <br>
                </div>
                <div class="col-6 border-left border-info">
                  <p class="text-center text-dark p-2 border-bottom border-info rtl">
                    قیمت
                  </p>
                  <p class="text-center text-muted rtl">
                    {{form.value['price']|number}} &nbsp; (تومن)
                  </p>
                </div>
                <div class="col-6">
                  <p class="text-center text-dark p-2 border-bottom border-info rtl">
                    مقدار
                  </p>
                  <p class="text-center text-muted rtl">
                    {{form.value['value']}} - كيلوگرم
                  </p>
                </div>
                <div class="col-12">
                  <br>
                </div>
                <div class="col-6 border-left border-info">
                  <p class="text-center text-dark p-2 border-bottom border-info rtl">
                    وضعیت
                  </p>
                  <p class="text-center text-muted rtl">
                    فعال
                  </p>
                </div>
                <div class="col-6">
                  <p class="text-center text-dark p-2 border-bottom border-info rtl">
                    توضیحات
                  </p>
                  <p class="text-center text-muted rtl">
                    {{ 'تنظیم نشده'}}
                  </p>
                </div>
              </div>
            </div>
            <div class="col-12">
              <hr>
            </div>
            <div class="col-12 ">
              <div class="row  flex-row-reverse">
                <div class="col-6 text-center">
                  <input type="submit" [disabled]="form.invalid" value="ثبت" class="btn btn-info btn-sm btn-block" >
                </div>
                <div class="col-6 text-center">
                  <input type="button" class="btn btn-primary btn-sm btn-block" (click)="step = 1" value="تغییر ">
                </div>
              </div>
            </div>



          </div>




        </div>
      </div>



    </form>
  </div>
</div>




